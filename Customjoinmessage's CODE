Class 1:
package pw.qcraft.plugin.customjoinmessage;

import java.io.File;

import org.bukkit.Bukkit;
import org.bukkit.configuration.file.FileConfiguration;
import org.bukkit.craftbukkit.libs.jline.internal.Log;
import org.bukkit.event.Listener;
import org.bukkit.plugin.java.JavaPlugin;


public class Core extends JavaPlugin  implements Listener{
	FileConfiguration config;
	File cfile;
public void onEnable() {
	getServer().getPluginManager().registerEvents(this, this);
	getConfig().options().copyDefaults(true);
	saveConfig();
	Log.info("[CJM] - Loading Plugin...");
	getServer().getPluginManager().registerEvents(new Code(this), this);
}
}

-=-=-=-=
Class 2:
package pw.qcraft.plugin.customjoinmessage;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerJoinEvent;
public class Code implements Listener {
	private Core core;
	public Code(Core core) {
		this.core = core;
	}
	@EventHandler
	public void Joinevent(PlayerJoinEvent e) {
		String PLAYERNAME = e.getPlayer().getName();
		if (core.getConfig().getString("titlemessage").contains("true")) {
e.getPlayer().sendTitle(core.getConfig().getString("line1"), core.getConfig().getString("line2"));
		} 
		if (core.getConfig().getString("titlemessage").contains("false")) {
			e.getPlayer().sendMessage(core.getConfig().getString("chatmessage"));
		}
	}
}
-=-=-=-=
Config.yml
titlemessage: false
line1: ยง3Welcome to my server!
line2: ยง6Enjoy! 
chatmessage: ยง2Welcome to my server! Enjoy!
-=-=-=-=
Plugin.yml
name: CJM
version: 1.0
main: pw.qcraft.plugin.customjoinmessage.Core
author: Mr_JaVa_
description: allows you to display a title message or a chat message on player join!

